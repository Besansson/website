<IfModule mod_speling.c>
  CheckSpelling Off
</IfModule>

#Set expires dates...
<IfModule mod_expires.c>
  ExpiresActive on

  #Icon files (1 month)...
  ExpiresByType image/vnd.microsoft.icon "access plus 1 month"
  ExpiresByType image/x-icon "access plus 1 month"

  #Images files (7 days)...
  ExpiresByType image/jpg "access plus 7 days"
  ExpiresByType image/gif "access plus 7 days"
  ExpiresByType image/jpeg "access plus 7 days"
  ExpiresByType image/png "access plus 7 days"

  #CSS files (3 days)...
  ExpiresByType text/css "access plus 3 days"

  #JavaScript files (3 days)...
  ExpiresByType application/javascript "access plus 3 days"
  ExpiresByType application/x-javascript "access plus 3 days"

  #All other files (24 hours)...
  ExpiresDefault "access plus 24 hours"
</IfModule>

ErrorDocument 404 /404.php

<FilesMatch "\.inc$">
 Order Deny,Allow
 Deny from all
</FilesMatch>

#Use PHP5 instead of PHP4
AddType x-mapp-php5 .php

#Redirect PAD download URL to current WinMerge version...
Redirect permanent /downloads/WinMerge-Setup.exe http://downloads.sourceforge.net/winmerge/WinMerge-2.12.4-Setup.exe

#Redirect www.winmerge.org to winmerge.org...
RewriteEngine On
RewriteCond   %{HTTP_HOST} ^www\.winmerge\.org$ [NC]
RewriteRule   ^(.*)$ http://winmerge.org/$1 [R=permanent,L]

#Centralize download pages...
Redirect permanent /downloads.php http://winmerge.org/downloads/
Redirect permanent /2.4/downloads.php http://winmerge.org/downloads/
Redirect permanent /2.2/downloads.php http://winmerge.org/downloads/

#Move old "Changes" pages to new "Change Log" page...
RedirectMatch permanent /[0-9]\.[0-9]/changes.php http://winmerge.org/docs/changelog.php
RedirectMatch permanent /[0-9]\.[0-9]/changelog.php http://winmerge.org/docs/changelog.php

#Move old "Known Limitations" pages to new "Known Issues" page...
Redirect permanent /2.4/limitations.php http://winmerge.org/docs/releasenotes.php#issues
Redirect permanent /2.6/limitations.php http://winmerge.org/docs/releasenotes.php#issues

#Move old "Release Notes" pages to new "Release Notes" page...
Redirect permanent /2.8/releasenotes.php http://winmerge.org/docs/releasenotes.php

#Move old screenshot pages to new screenshot page...
RedirectMatch permanent /[0-9]\.[0-9]/screenshots.php http://winmerge.org/about/screenshots/

#Move old icon image to new icon image...
RedirectMatch permanent /[0-9]\.[0-9]/images/icon.gif http://winmerge.org/about/screenshots/icon.gif

#Move old screenshot image to new screenshot image...
Redirect permanent /2.0/images/screenshot.png http://winmerge.org/about/screenshots/screenshot.png
Redirect permanent /2.2/images/screenshot.gif http://winmerge.org/about/screenshots/screenshot.png
Redirect permanent /2.4/images/screenshot.gif http://winmerge.org/about/screenshots/screenshot.png

#Move old screenshot images to new screenshot images...
Redirect permanent /2.6/images/ http://winmerge.org/about/screenshots/
Redirect permanent /2.8/images/ http://winmerge.org/about/screenshots/

#Move old "X.Y" version tabs to homepage...
RewriteEngine On
RewriteBase   /
RewriteRule   ^[0-9]\.[0-9]/$ http://winmerge.org/ [R=permanent]
RewriteRule   ^[0-9]\.[0-9]/index.php$ http://winmerge.org/ [R=permanent]

#Move wiki to a own sub domain...
Redirect permanent /Wiki/ http://wiki.winmerge.org/wiki/

#Move manual to a own sub domain...
Redirect permanent /docs/manual/ http://manual.winmerge.org/

#Move quick tour to a own sub domain...
Redirect permanent /docs/tour/ http://tour.winmerge.org/

#Move forums to a own sub domain...
Redirect permanent /forums http://forums.winmerge.org/

#Tracker shortcuts...
RewriteEngine On
RewriteBase   /
RewriteRule   ^bug/([0-9]+)$ http://sourceforge.net/support/tracker.php?aid=$1 [R=permanent]
RewriteRule   ^patch/([0-9]+)$ http://sourceforge.net/support/tracker.php?aid=$1 [R=permanent]
RewriteRule   ^support/([0-9]+)$ http://sourceforge.net/support/tracker.php?aid=$1 [R=permanent]
RewriteRule   ^rfe/([0-9]+)$ http://sourceforge.net/support/tracker.php?aid=$1 [R=permanent]
RewriteRule   ^todo/([0-9]+)$ http://sourceforge.net/support/tracker.php?aid=$1 [R=permanent]
RewriteRule   ^tracker/([0-9]+)$ http://sourceforge.net/support/tracker.php?aid=$1 [R=permanent]

RewriteRule   ^bug/?$ http://sourceforge.net/tracker/?atid=113216&group_id=13216 [R=permanent]
RewriteRule   ^patch/?$ http://sourceforge.net/tracker/?group_id=13216&atid=313216 [R=permanent]
RewriteRule   ^rfe/?$ http://sourceforge.net/tracker/?group_id=13216&atid=363216 [R=permanent]
RewriteRule   ^todo/?$ http://sourceforge.net/tracker/?group_id=13216&atid=759426 [R=permanent]
RewriteRule   ^tracker/?$ http://sourceforge.net/tracker/?group_id=13216 [R=permanent]
